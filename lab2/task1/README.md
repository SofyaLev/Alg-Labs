# Задача 1: Сортировка слиянием

## Описание

В данной задаче реализован алгоритм сортировки слиянием, который эффективно сортирует массив чисел методом "разделяй и властвуй". Алгоритм рекурсивно делит массив на две половины, сортирует каждую из них и затем объединяет в отсортированный массив. Основная цель задачи — продемонстрировать применение алгоритма сортировки слиянием и оценить его производительность и использование памяти на различных типах данных.

## Структура проекта
```
Task1/
├── src/
│   ├── input.txt
│   ├── merge_sort.py
│   ├── output.txt
│   └── task1.py
└── tests/
    ├── test1.py
    ├── test2.py
    └── test3.py
```

### Описание файлов

- src/merge_sort.py: Реализация алгоритма сортировки слиянием. Содержит функции merge и merge_sort для сортировки массива.
- src/task1.py: Основной скрипт для выполнения сортировки. Читает данные из input.txt, выполняет сортировку и записывает результат в output.txt. Также включает тестирование производительности и использования памяти для различных типов массивов.
- src/input.txt: Входной файл, содержащий количество элементов и сам массив чисел.
- src/output.txt: Выходной файл, содержащий отсортированный массив.
- tests/test1.py: Тест с небольшим массивом для оценки производительности и использования памяти.
- tests/test2.py: Тест с большим случайным массивом для проверки эффективности алгоритма на больших данных.
- tests/test3.py: Тест с массивом, отсортированным в обратном порядке, для проверки устойчивости алгоритма к худшим случаям.

## Как запустить проект

### Установка зависимостей

Проект не требует дополнительных зависимостей, кроме стандартной библиотеки Python. Однако для оценки использования памяти используется модуль psutil, который необходимо установить:
`pip install psutil`

### Запуск алгоритма сортировки

1. Перейдите в директорию Task1/src.
2. Убедитесь, что файл input.txt содержит корректные входные данные в следующем формате:
```
n
a1 a2 a3 ... an
```

- Первая строка: число n (1 ≤ n ≤ 2×10⁴) — количество элементов массива.
- Вторая строка: n целых чисел, разделённых пробелами.

3. Запустите скрипт сортировки.
4. Результат работы будет записан в файл output.txt в том же формате, но отсортированном порядке.

### Запуск тестов

1. Перейдите в директорию с тестами.
2. Откройте необходимыйт файл. 
3. Запустите скрипт теста.

## Формат входных и выходных данных

### Входной файл (input.txt)
```
n
a1 a2 a3 ... an
```
- Первая строка: число n (1 ≤ n ≤ 2×10⁴) — количество элементов массива.
- Вторая строка: n целых чисел, по модулю не превосходящих 10⁹, разделённых пробелами.

### Выходной файл (output.txt)

```
b1 b2 b3 ... bn
```
- Отсортированный массив чисел в неубывающем порядке.

Если входные данные не соответствуют условиям, выводится сообщение:

```
Введенные данные не соответствуют условию
```

## Описание алгоритма

### Сортировка слиянием

Алгоритм сортировки слиянием работает по принципу "разделяй и властвуй". Основные шаги алгоритма:

1. Разделение: Рекурсивно делим массив на две половины до тех пор, пока не останем массивы из одного элемента.
2. Слияние: Объединяем отсортированные половины в единый отсортированный массив.

#### Функции

- merge(array, left, middle, right): Объединяет две отсортированные половины массива array от индексов left до middle и от middle+1 до right в один отсортированный массив.
- merge_sort(array, left, right): Рекурсивно сортирует массив array от индекса left до right с использованием алгоритма сортировки слиянием.

### Основные характеристики

- Время работы: O(n log n) в худшем, среднем и лучшем случае.
- Память: Дополнительная память O(n) для временных массивов при слиянии.

## Тестирование

Для проверки корректности и эффективности алгоритма реализованы три теста:
1. test1.py: Тест с небольшим массивом для оценки времени выполнения и использования памяти.
2. test2.py: Тест с большим случайным массивом (до 10⁵ элементов) для проверки производительности на больших данных.
3. test3.py: Тест с массивом, отсортированным в обратном порядке, для оценки устойчивости алгоритма к худшим случаям.

### Запуск тестов

Каждый тестовый скрипт выполняет сортировку и выводит время выполнения и использование памяти.

## Примеры

### Пример 1: Успешная сортировка

Входной файл (`input.txt`):
```
10
1 8 2 1 4 7 3 2 3 6
```
Выходной файл (`output.txt`):

```
1 1 2 2 3 3 4 6 7 8
```
### Пример 2: Некорректные данные

Входной файл (`input.txt`):

```
20000
1 2 3
```
Выходной файл (`output.txt`):

```
Введенные данные не соответствуют условию
```
## Оценка производительности

В основных скриптах файлов `test1`, `test2`, `test3` реализовано измерение времени выполнения и использования памяти для различных типов массивов:

- Маленький массив: Проверка быстродействия и памяти на небольшом наборе данных.
- Большой случайный массив: Оценка производительности на больших объемах данных.
- Обратный массив: Проверка устойчивости алгоритма к отсортированным в обратном порядке данным.

Пример вывода для малого массива:

```
Время: 0.0012 секунд
Память: 15.3 Мбайт
```
## Заключение

Задача 1 демонстрирует эффективную реализацию алгоритма сортировки слиянием, его корректность и производительность на различных типах данных. Тестирование подтверждает стабильную работу алгоритма и его способность обрабатывать как небольшие, так и большие массивы данных с различными характеристиками.
