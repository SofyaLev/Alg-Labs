# Задача 7: Поиск максимальной подпоследовательности за линейное время

## Описание

В данной задаче реализован алгоритм поиска максимальной подпоследовательности в массиве целых чисел. Максимальная подпоследовательность определяется как непрерывная часть массива, сумма элементов которой максимальна среди всех возможных подпоследовательностей. Алгоритм основывается на методе Кадане (Kadane's Algorithm), который позволяет эффективно находить такую подпоследовательность за линейное время O(n). Основная цель задачи — определить максимальную сумму подпоследовательности, а также её начальный и конечный индексы в массиве.

## Структура проекта
```
Task7/
├── src/
│   ├── find_max_subarray.py
│   ├── input.txt
│   ├── output.txt
│   └── task7.py
└── tests/
    ├── test1.py
    ├── test2.py
    └── test3.py
```
### Описание файлов

- src/find_max_subarray.py: Модуль с реализацией алгоритма поиска максимальной подпоследовательности. Содержит функцию find_max_subarray, которая возвращает максимальную сумму и соответствующие индексы подпоследовательности.
- src/task7.py: Основной скрипт для выполнения задачи. Читает данные из input.txt, выполняет поиск максимальной подпоследовательности и записывает результат в output.txt. Также включает код для тестирования производительности и использования памяти на различных типах данных.
- src/input.txt: Входной файл, содержащий количество элементов и сам массив чисел.
- src/output.txt: Выходной файл, содержащий максимальную сумму подпоследовательности и её начальные и конечные индексы.
- tests/test1.py: Тест с небольшим массивом для оценки производительности и использования памяти.
- tests/test2.py: Тест с массивом из одного элемента для проверки корректности обработки минимального размера данных.
- tests/test3.py: Тест с большим случайным массивом для проверки эффективности алгоритма на больших данных.

## Как запустить проект

### Установка зависимостей

Проект использует стандартную библиотеку Python. Для оценки использования памяти необходимо установить модуль psutil:
```
pip install psutil
```
### Запуск алгоритма поиска максимальной подпоследовательности

1. Перейдите в директорию Task7/src:
2. Убедитесь, что файл input.txt содержит корректные входные данные в следующем формате:
```
n
a1 a2 a3 ... an
```

- Первая строка: число n (1 ≤ n ≤ 10⁵) — количество элементов массива.
- Вторая строка: n целых чисел, разделённых пробелами — элементы массива.

3. Запустите скрипт поиска максимальной подпоследовательности.
4. Результат работы будет записан в файл output.txt в следующем формате:

```
Максимальная сумма: <максимальная_сумма>, начальный индекс: <левый_индекс>, конечный индекс: <правый_индекс>
```

- `<максимальная_сумма>`: сумма элементов максимальной подпоследовательности.
- `<левый_индекс>`: начальный индекс подпоследовательности (начинается с 0).
- `<правый_индекс>`: конечный индекс подпоследовательности (начинается с 0).

### Запуск тестов
1. Перейдите в директорию с тестами.
2. Откройте необходимыйт файл. 
3. Запустите скрипт теста.

## Формат входных и выходных данных

### Входной файл (input.txt)
```
n
a1 a2 a3 ... an
```
- Первая строка: число n (1 ≤ n ≤ 10⁵) — количество элементов массива.
- Вторая строка: n целых чисел, по модулю не превосходящих 10⁹, разделённых пробелами — элементы массива.

### Выходной файл (output.txt)
```
Максимальная сумма: <максимальная_сумма>, начальный индекс: <левый_индекс>, конечный индекс: <правый_индекс>
```
- `<максимальная_сумма>`: сумма элементов максимальной подпоследовательности.
- `<левый_индекс>`: начальный индекс подпоследовательности (начинается с 0).
- `<правый_индекс>`: конечный индекс подпоследовательности (начинается с 0).

Если входные данные не соответствуют условиям, выводится сообщение:
```
Введенные данные не соответствуют условию
```
## Описание алгоритма

### Поиск максимальной подпоследовательности методом Кадане
Алгоритм Кадане позволяет за линейное время O(n) найти максимальную подпоследовательность в массиве целых чисел. Основные шаги алгоритма:

1. Инициализация:
    - max_sum — максимальная сумма, изначально 0.
    - current_sum — текущая сумма, изначально 0.
    - left и right — индексы начала и конца максимальной подпоследовательности.

2. Итерация по массиву:
    - Если current_sum равен 0, устанавливаем текущий индекс как left.
    - Добавляем текущий элемент к current_sum.
    - Если current_sum становится отрицательной, сбрасываем её до 0.
    - Если current_sum превышает max_sum, обновляем max_sum и устанавливаем right как текущий индекс.

3. Результат:
    - Возвращаем max_sum, left и right.

#### Функции

- find_max_subarray(n, array): Находит максимальную подпоследовательность в массиве array длиной n. Возвращает кортеж (max_sum, left, right).

### Основные характеристики

- Время работы: O(n) — линейная сложность по времени.
- Память: O(1) — константная дополнительная память.

## Тестирование

Для проверки корректности и эффективности алгоритма реализованы три теста:

1. test1.py: Тест с небольшим массивом для оценки времени выполнения и использования памяти.
2. test2.py: Тест с массивом из одного элемента для проверки корректности обработки минимального размера данных.
3. test3.py: Тест с большим случайным массивом (до 10⁵ элементов) для проверки производительности на больших данных.

### Запуск тестов

Каждый тестовый скрипт выполняет поиск максимальной подпоследовательности и выводит время выполнения и использование памяти.

## Примеры

### Пример 1: Успешный поиск максимальной подпоследовательности

Входной файл (`input.txt`):
```
4
1 8 2 10
```
Выходной файл (`output.txt`):
```
Максимальная сумма: 21, начальный индекс: 0, конечный индекс: 3
```
Объяснение:

В данном массиве максимальная подпоследовательность — [1, 8, 2, 10] с суммой 21, начиная с индекса 0 и заканчивая индексом 3.

### Пример 2: Массив из одного элемента

Входной файл (`input.txt`):
```
1
0
```
Выходной файл (`output.txt`):
```
Максимальная сумма: 0, начальный индекс: 0, конечный индекс: 0
```
Объяснение:

В массиве из одного элемента 0 максимальная подпоследовательность — [0] с суммой 0, начиная и заканчивая на индексе 0.

### Пример 3: Некорректные данные

Входной файл (`input.txt`):
```
100000
1 2 3
```
Выходной файл (`output.txt`):
```
Введенные данные не соответствуют условию
```
Объяснение:

Число элементов n = 100000, но в массиве предоставлено только 3 элемента, что нарушает условие задачи.

## Оценка производительности

В основных скриптах файлов `test1`, `test2`, `test3` реализовано измерение времени выполнения и использования памяти для различных типов массивов:

- Маленький массив: Проверка быстродействия и памяти на небольшом наборе данных.
- Массив из одного элемента: Проверка корректности обработки минимального размера данных.
- Большой случайный массив: Оценка производительности на больших объемах данных.

### Пример вывода для малого массива:
```
Время: 3.9000005926936865e-06 секунд
Память: 14.453125 Мбайт
```
### Пример вывода для большого массива:
```
Время: 0.010346500000196102 секунд
Память: 18.375 Мбайт
```
## Заключение
Задача 7 демонстрирует эффективную реализацию алгоритма поиска максимальной подпоследовательности методом Кадане. Алгоритм обеспечивает линейную сложность по времени и минимальное использование памяти, что делает его подходящим для обработки больших массивов данных. Тестирование подтверждает корректность и производительность алгоритма на различных типах входных данных, включая крайние случаи.
